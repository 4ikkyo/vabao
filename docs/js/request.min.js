const fileManager=document.querySelector("[js-file-manager]");class FileManager{static chipTemplate=(e,t)=>`<span id="${t}" class="chip"><span class="chip__text">${e}</span></span>`;static generateId=()=>`chip-${(16777215*Math.random()<<0).toString(16)}`;constructor(e){this._containerElement=e,this._fakeInput=this._containerElement.querySelector("[js-fake-file-input]"),this._realInput=this._containerElement.querySelector("[js-real-file-input]"),this._chipContainer=this._containerElement.querySelector("[js-chip-container]"),this._noFile=this._containerElement.querySelector("[js-no-file]"),this._removeFilesButton=this._containerElement.querySelector("[js-remove-files]"),this._files=[],this._addEventListeners()}_addEventListeners=()=>{this._fakeInput.addEventListener("click",this._handleFakeInputClick,!1),this._realInput.addEventListener("change",this._handleRealInputChange,!1),this._removeFilesButton.addEventListener("click",this._handleRemoveFilesButtonClick,!1)};_handleFakeInputClick=()=>{this._chipContainer.querySelectorAll(".chip").length>0&&this._removeChips(),this._realInput.click()};_handleRealInputChange=e=>{this._realInput.files.length>0&&(this._toggleNoFile(),[...this._realInput.files].forEach((e=>{const t=e.name,i=FileManager.generateId(),n=FileManager.chipTemplate(t,i);this._chipContainer.insertAdjacentHTML("beforeend",n);const s={name:t,id:i,chip:this._chipContainer.querySelector(`#${i}`)};this._files.push(s)})))};_handleRemoveFilesButtonClick=e=>{this._realInput.files.length&&this._removeChips()};_removeChips=()=>{this._chipContainer.querySelectorAll(".chip");this._toggleNoFile(),this._files=[],this._chipContainer.innerHTML="",this._realInput.value=""};_toggleNoFile=()=>{this._noFile.hidden=!this._noFile.hidden,this._removeFilesButton.hidden=!this._removeFilesButton.hidden}}const fileManagerReference=new FileManager(fileManager);